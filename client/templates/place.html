---
name: place
url: /place/:placeId
animationIn: hingeInFromMiddleY bounceInOut
animationOut: zoomOut bounceInOut
---

<div zf-modal="about" id="newcommentModal" class="grid-content small-12">
    <div ng-include="'templates/modals/createComment.html'"></div>
</div>

<div zf-modal="editPlace" id="editPlaceModal" class="grid-content small-12">
    <div ng-include="'templates/modals/editPlace.html'"></div>
</div>

<section class="grid-block" ng-controller="getPlace">
    <div class="grid-block">
        <div class="small-12">
            <div class="small-12">
                <div class="slider" slick-slider="{dots:true, arrows:false, draggable:true, slidesToShow:1, infinite:true, autoplay:true, autoplaySpeed:2000}">
                    <div ng-repeat="image in place.images"><img data-lazy="{{image.uri}}"></div>
                </div>
            </div>

            <div class="grid-content small-12">
                <div class="small-12 clearfix">
                    <h2 class="float-left">{{place.title}}</h2>
                    <div class="place-rating float-left">

                        <?xml version="1.0" ?>
                        <svg baseProfile="tiny" height="60px" id="Layer_1" version="1.2" viewBox="0 0 24 24" width="60px" fill="gold" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g>
                                <g>
                                    <path d="M9.362,9.158c0,0-3.16,0.35-5.268,0.584c-0.19,0.023-0.358,0.15-0.421,0.343s0,0.394,0.14,0.521    c1.566,1.429,3.919,3.569,3.919,3.569c-0.002,0-0.646,3.113-1.074,5.19c-0.036,0.188,0.032,0.387,0.196,0.506    c0.163,0.119,0.373,0.121,0.538,0.028c1.844-1.048,4.606-2.624,4.606-2.624s2.763,1.576,4.604,2.625    c0.168,0.092,0.378,0.09,0.541-0.029c0.164-0.119,0.232-0.318,0.195-0.505c-0.428-2.078-1.071-5.191-1.071-5.191    s2.353-2.14,3.919-3.566c0.14-0.131,0.202-0.332,0.14-0.524s-0.23-0.319-0.42-0.341c-2.108-0.236-5.269-0.586-5.269-0.586    s-1.31-2.898-2.183-4.83c-0.082-0.173-0.254-0.294-0.456-0.294s-0.375,0.122-0.453,0.294C10.671,6.26,9.362,9.158,9.362,9.158z" />
                                </g>
                            </g>
                        </svg>
                        <span class="svg-star-rating">{{place.rating | number:1}}</span>
                    </div>

                    <div ng-app="app" class="container userrating float-right">
                        <div star-rating ng-model="place.rating" max="5" on-rating-selected="rateFunction(place.rating)">
                        </div>
                        <label class="yourratingtag">Ditt betyg</label>
                    </div>

                </div>

                <div class="small-12">
                    <p class="label tag" ng-repeat="tag in place.tags">
                        {{tag}}
                    </p>
                </div>

                <div>
                    <a href="#!/login" class="button checkin_button float-right"><img zf-iconic="" icon="circle-check" size="small" class="iconic-color-warning">Checka in!</a>
                </div>

                <div class="small-12">
                    <p>{{place.description}}</p>
                </div>

                <div class="small-12">
                    <p>{{place.checkinsNow}} incheckningar just nu ({{place.checkinsTotal}} totalt)</p>
                </div>

                <div class="small-12">
                    <div class="small-12">
                        <h3>Kommentarer</h3>
                    </div>
                    <div class="card small-12" ng-repeat="comment in place.comments">
                        <div class="card-divider">
                        <small>Användare: {{comment.user}}</small> <span class="float-right"><small>{{comment.date}}</small></span>
                        </div>
                        <div class="card-section">
                            <img src="{{comment.image_uri}}" ng-if="comment.image_uri" />
                            <p>{{comment.comment}}</p>
                        </div>
                    </div>
                </div>

                <div class="small-12 clearfix">
                    <a zf-open="newcommentModal" class="button float-left">Lägg till kommentar</a>
                    <button class="button photo_button float-left">Lägg till bild</button>
                </div>

                <div class="small-12 clearfix">
                    <a zf-open="editPlaceModal">Redigera plats</a>
                    <a ng-controller="deletePlace" ng-click="delete()" class="float-right">Ta bort plats</a>
                </div>
            </div>
        </div>
    </div>
</section>
